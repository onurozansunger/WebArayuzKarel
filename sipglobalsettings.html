<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KAREL IPK-603</title>
    <link id="style" rel="stylesheet" href="css/General.css">
</head>
<button id="dark-mode-toggle">Dark Mode</button>
<body>
<div class="navbar">
    <div class="container">
        <img class="logo" src="assets/logo.png" />
    </div>
</div>
<div class="mainmenuframe">
    <ul class="mainmenu">
        <li class="li"> <a class="mainheader" href="systeminfo.html">System Information</a></li>
        <li class="li"> <a class="mainheader" href="sipaccountsettings.html">SIP</a></li>
        <li class="li"> <a class="mainheader" href="generalsettings.html">Settings</a></li>
        <li class="li"> <a class="mainheader" href="phonebook.html">Phone Book</a></li>
        <li class="li"> <a class="mainheader" href="factorysettings.html">Technical Support</a></li>
    </ul>
</div>
<div class="footer">
    <div class="container">
    </div>
</div>
<div class="content">
    <div class="sidebar">
        <ul class="menu">
            <li><a href="sipaccountsettings.html">Account Settings</a></li>
            <li><a href="sipglobalsettings.html">Global Settings</a></li>
        </ul>
    </div>
</div>
            <div class="frame">
            </table>
            <form method="POST" id= 0 name="form1" enctype="application/x-www-form-urlencoded" action="sipglobalsettings">
                <table>
                        <caption class="caption">SIP Global Settings</caption>
                        <td class="label"><b>SIP Port</b></td>
                        <td CLASS="value"><input type="text" name="SipPort" value="5080" maxlength="5" size="15" placeholder="1024-65535"></td>
                    </tr>
                        <tr>
                            <td class="label"><b>RTP Port</b></td>
                            <td class="value"><input type="text" name="RtpPort" value="4000" maxlength="5" size="15" placeholder="1024-65535">
                        </tr>
                        <tr>
                            <td class="label"><b>Keep Alive</b></td>
                            <td class="value"><input type="text" name="KeepAlive" value="60" maxlength="5" size="15" placeholder="1-65535">
                        </tr>
                        <tr>
                            <td class="label"><b>NAT</b></td>
                            <td class="value"><select id="Nat" name="Nat" align="left" onchange="OnNatType()">
                                <option value="0" selected>Disabled</option>
                                <option value="1">NAT IP</option>
                                <option value="2">STUN Server</option>
                            </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>NAT IP</b></td>
                            <td class="value"><input type="text" name="NatIp" value="" maxlength="15" size="15">
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>STUN Server</b></td>
                            <td class="value"><input type="text" name="StunUri" value="" maxlength="127" size="32" placeholder="IP or URI">
                        </tr>
                        <tr>
                            <td class="label"><b>STUN Port</b></td>
                            <td class="value"><input type="text" name="StunPort" value="3478" maxlength="5" size="15" placeholder="1-65535">
                        </tr>
                        <tr>
                            <td class="label"><b>Default Account</b></td>
                            <td class="value"><select id="DefaultAccount" name="DefaultAccount" align="left" onchange="">
                                <option value="0" selected>Account 1</option>
                                <option value="1">Account 2</option>
                                <option value="2">Account 3</option>
                                <option value="3">Account 4</option>
                            </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>PRACK</b></td>
                            <td class="value"><select id="Prack" name="Prack" align="left" onchange="">
                                <option value="0">Disabled</option>
                                <option value="1" selected>Enabled</option>
                            </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>Session Interval</b></font></td>
                            <td class="value"><input type="text" name="SessionInterval" value="300" maxlength="5" size="15">
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>MinSE</b></font></td>
                            <td class="value"><input type="text" name="MinSE" value="90" maxlength="5" size="15">
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>PUBLISH Interval</b></font></td>
                            <td class="value"><input type="text" name="PublishInterval" value="60" maxlength="4" size="15">
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>Minimum PUBLISH Interval</b></font></td>
                            <td class="value"><input type="text" name="PublishMinInterval" value="60" maxlength="4" size="15">
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>SUBSCRIBE Interval</b></font></td>
                            <td class="value"><input type="text" name="SubscribeInterval" value="60" maxlength="4" size="15">
                            </td>
                        </tr>
                        <tr>
                            <td class="label"><b>Minimum SUBSCRIBE Interval</b></font></td>
                            <td class="value"><input type="text" name="SubscribeMinInterval" value="60" maxlength="4" size="15">
                            </td>
                        </tr>
                    </table></td></tr></table>
                <br>
                <input type="submit" name="save" value="Save">
            </form>
        </td>
    </tr>
            </div>
</table>
<script LANGUAGE="JavaScript">
    function OnNatType()
    {
        var change_id;
        change_id = document.form1.Nat.value;
        switch(change_id)
        {
            case "0":
                document.form1.NatIp.disabled = 1;
                document.form1.StunUri.disabled = 1;
                document.form1.StunPort.disabled = 1;
                break;
            case "1":
                document.form1.NatIp.disabled = 0;
                document.form1.StunUri.disabled = 1;
                document.form1.StunPort.disabled = 1;
                break;
            case "2":
                document.form1.NatIp.disabled = 1;
                document.form1.StunUri.disabled = 0;
                document.form1.StunPort.disabled = 0;
                break;
            default:
                break;
        }
    }
    function load_value()
    {
        OnNatType();
    }
    const toggle = document.getElementById("dark-mode-toggle");
    const style = document.getElementById("style");
    toggle.addEventListener("click", function() {
        if (style.getAttribute("href") === "css/General.css") {
            style.setAttribute("href", "css/Generaldark.css");
            toggle.textContent = "Light Mode";
        } else {
            style.setAttribute("href", "css/General.css");
            toggle.textContent = "Dark Mode";
        }
    });
    const menuLinks = document.querySelectorAll(".mainheader");
    menuLinks.forEach(function(menuLink) {
        menuLink.addEventListener("click", function() {
            menuLinks.forEach(function(otherLink) {
                otherLink.classList.remove("active");
            });
            this.classList.add("active");
            localStorage.setItem("activeLink", this.textContent);
        });
    });
    const activeLink = localStorage.getItem("activeLink");
    menuLinks.forEach(function(menuLink) {
        if (menuLink.textContent === activeLink) {
            menuLink.classList.add("active");
        }
    });
    const sidebarLinks = document.querySelectorAll('.menu li a');

    sidebarLinks.forEach(link => {
        link.addEventListener('click', function() {
            sidebarLinks.forEach(link => link.classList.remove('active'));
            this.classList.add('active');
            localStorage.setItem('activeLink2', this.getAttribute('href'));
        });

        if (link.getAttribute('href') === localStorage.getItem('activeLink2')) {
            link.classList.add('active');
        }
    });
    const mode = localStorage.getItem("mode");
    if (mode === "dark") {
        style.setAttribute("href", "css/Generaldark.css");
        toggle.textContent = "Light Mode";
    }
</script>
</body>
</html>
